## Exercises {-}

1. Download *Denver Climate Data* to use as an example data file.
```{r, message=FALSE, warning=FALSE}
url <- "https://raw.githubusercontent.com/ZenBrayn/asms-2022-r-shortcourse/main/exercises/intro_to_r/data/denver_climate.csv"
download.file(url, destfile = "./data/denver_climate.csv")
```

2. Read in the dataset .csv using the `tidyverse` set of packages.
```{r, echo=FALSE, message=FALSE, warning=FALSE}
tbl_den <- "./data/denver_climate.csv" %>% read_csv()
```

3. How many rows does the table contain? Number of columns? What are the column names?
```{r, echo=FALSE}
tbl_den %>% nrow()
tbl_den %>% ncol()
tbl_den %>% colnames()
```

4. Find the month and year with the highest snowfall.
```{r, echo=FALSE}
tbl_den %>% 
  filter(snowfall == max(snowfall)) %>% 
  select(month, year)
```

5. Find months where there was no snowfall.
```{r, echo=FALSE}
tbl_den %>% 
  filter(snowfall == 0) %>% 
  select(month) %>% 
  unique()
```

6. Find average precipitation per year.
```{r, echo=FALSE}
tbl_den %>% 
  group_by(year) %>% 
  summarise(precipitation_avg = mean(precipitation))
```

7. Convert temperatures to Celsius and add new columns with these to table. Reminder `F to C conversion -> (F - 32) * (5/9)`.
```{r, echo=FALSE}
tbl_den <- tbl_den %>%
  mutate(min_temp_C = signif((min_temp - 32) * (5/9), 3),
         max_temp_C = signif((max_temp - 32) * (5/9), 3))

tbl_den
```

8. Find the month with the greatest difference in C between max and min temperature.
```{r, echo=FALSE}
tbl_den %>%
  mutate(temp_diff_C = max_temp_C - min_temp_C) %>%
  group_by(month) %>%
  summarise(temp_diff_C_avg = mean(temp_diff_C)) %>%
  filter(temp_diff_C_avg == max(temp_diff_C_avg))
```

9. Write to file an .csv of the data.frame which contains the C data.
```{r, echo=FALSE, eval=FALSE}
tbl_den %>% write_csv("data/denver_climate.csv")
```